<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><link href="css/default.css" rel="stylesheet" type="text/css" /><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>webtasks.ws documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">webtasks</span> <span class="project-version">0.2.1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="ACKNOWLEDGEMENT.html"><div class="inner"><span>Acknowledgement and Disclaimer</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>webtasks</span></div></div></li><li class="depth-2 branch"><a href="webtasks.tasks.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tasks</span></div></a></li><li class="depth-2 current"><a href="webtasks.ws.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ws</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="webtasks.ws.html#var-add-rmethod"><div class="inner"><span>add-rmethod</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-close"><div class="inner"><span>close</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-close-event-codes"><div class="inner"><span>close-event-codes</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-CLOSE_ABNORMAL"><div class="inner"><span>CLOSE_ABNORMAL</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-CLOSE_BAD_POLICY"><div class="inner"><span>CLOSE_BAD_POLICY</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-CLOSE_GOING_AWAY"><div class="inner"><span>CLOSE_GOING_AWAY</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-CLOSE_MISSING_EXTENSION"><div class="inner"><span>CLOSE_MISSING_EXTENSION</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-CLOSE_NO_STATUS"><div class="inner"><span>CLOSE_NO_STATUS</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-CLOSE_NORMAL"><div class="inner"><span>CLOSE_NORMAL</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-CLOSE_NOT_UTF8"><div class="inner"><span>CLOSE_NOT_UTF8</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-CLOSE_PROTOCOL_ERROR"><div class="inner"><span>CLOSE_PROTOCOL_ERROR</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-CLOSE_TLS_FAIL"><div class="inner"><span>CLOSE_TLS_FAIL</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-CLOSE_TOO_LARGE"><div class="inner"><span>CLOSE_TOO_LARGE</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-CLOSE_UNEXPECTED"><div class="inner"><span>CLOSE_UNEXPECTED</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-closed.3F"><div class="inner"><span>closed?</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-closing.3F"><div class="inner"><span>closing?</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-connect"><div class="inner"><span>connect</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-connecting.3F"><div class="inner"><span>connecting?</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-disconnect"><div class="inner"><span>disconnect</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-echo"><div class="inner"><span>echo</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-get-deferred"><div class="inner"><span>get-deferred</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-get-reason"><div class="inner"><span>get-reason</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-invoke-rmethod"><div class="inner"><span>invoke-rmethod</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-on-closed"><div class="inner"><span>on-closed</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-on-closing"><div class="inner"><span>on-closing</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-on-connecting"><div class="inner"><span>on-connecting</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-on-message"><div class="inner"><span>on-message</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-on-open"><div class="inner"><span>on-open</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-open.3F"><div class="inner"><span>open?</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-reconnect"><div class="inner"><span>reconnect</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-recv-fn"><div class="inner"><span>recv-fn</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-retry-connect"><div class="inner"><span>retry-connect</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-retry-disable"><div class="inner"><span>retry-disable</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-retry-enable"><div class="inner"><span>retry-enable</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-retry-policy-default"><div class="inner"><span>retry-policy-default</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-rmethod"><div class="inner"><span>rmethod</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-setup"><div class="inner"><span>setup</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-setup-deferreds"><div class="inner"><span>setup-deferreds</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-UNSUPPORTED"><div class="inner"><span>UNSUPPORTED</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-write"><div class="inner"><span>write</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-ws"><div class="inner"><span>ws</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-ws-close"><div class="inner"><span>ws-close</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-ws-onclose"><div class="inner"><span>ws-onclose</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-ws-onerror"><div class="inner"><span>ws-onerror</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-ws-onmessage"><div class="inner"><span>ws-onmessage</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-ws-onopen"><div class="inner"><span>ws-onopen</span></div></a></li><li class="depth-1"><a href="webtasks.ws.html#var-xmit-fn"><div class="inner"><span>xmit-fn</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">webtasks.ws</h1><div class="doc"><pre class="plaintext">Websocket API for ClojureScript
</pre></div><div class="public anchor" id="var-add-rmethod"><h3>add-rmethod</h3><div class="usage"><code>(add-rmethod rmethod rmethod-fn)</code><code>(add-rmethod my-ws rmethod rmethod-fn)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L391">view source</a></div></div><div class="public anchor" id="var-close"><h3>close</h3><div class="usage"><code>(close)</code><code>(close my-ws)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L316">view source</a></div></div><div class="public anchor" id="var-close-event-codes"><h3>close-event-codes</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L108">view source</a></div></div><div class="public anchor" id="var-CLOSE_ABNORMAL"><h3>CLOSE_ABNORMAL</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L100">view source</a></div></div><div class="public anchor" id="var-CLOSE_BAD_POLICY"><h3>CLOSE_BAD_POLICY</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L102">view source</a></div></div><div class="public anchor" id="var-CLOSE_GOING_AWAY"><h3>CLOSE_GOING_AWAY</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L96">view source</a></div></div><div class="public anchor" id="var-CLOSE_MISSING_EXTENSION"><h3>CLOSE_MISSING_EXTENSION</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L104">view source</a></div></div><div class="public anchor" id="var-CLOSE_NO_STATUS"><h3>CLOSE_NO_STATUS</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L99">view source</a></div></div><div class="public anchor" id="var-CLOSE_NORMAL"><h3>CLOSE_NORMAL</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L95">view source</a></div></div><div class="public anchor" id="var-CLOSE_NOT_UTF8"><h3>CLOSE_NOT_UTF8</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L101">view source</a></div></div><div class="public anchor" id="var-CLOSE_PROTOCOL_ERROR"><h3>CLOSE_PROTOCOL_ERROR</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L97">view source</a></div></div><div class="public anchor" id="var-CLOSE_TLS_FAIL"><h3>CLOSE_TLS_FAIL</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L106">view source</a></div></div><div class="public anchor" id="var-CLOSE_TOO_LARGE"><h3>CLOSE_TOO_LARGE</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L103">view source</a></div></div><div class="public anchor" id="var-CLOSE_UNEXPECTED"><h3>CLOSE_UNEXPECTED</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L105">view source</a></div></div><div class="public anchor" id="var-closed.3F"><h3>closed?</h3><div class="usage"><code>(closed?)</code><code>(closed? my-ws)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L354">view source</a></div></div><div class="public anchor" id="var-closing.3F"><h3>closing?</h3><div class="usage"><code>(closing?)</code><code>(closing? my-ws)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L348">view source</a></div></div><div class="public anchor" id="var-connect"><h3>connect</h3><div class="usage"><code>(connect ws-url)</code><code>(connect my-ws ws-url)</code><code>(connect my-ws ws-url id)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L426">view source</a></div></div><div class="public anchor" id="var-connecting.3F"><h3>connecting?</h3><div class="usage"><code>(connecting?)</code><code>(connecting? my-ws)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L342">view source</a></div></div><div class="public anchor" id="var-disconnect"><h3>disconnect</h3><div class="usage"><code>(disconnect)</code><code>(disconnect my-ws)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L401">view source</a></div></div><div class="public anchor" id="var-echo"><h3>echo</h3><div class="usage"><code>(echo &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L55">view source</a></div></div><div class="public anchor" id="var-get-deferred"><h3>get-deferred</h3><div class="usage"><code>(get-deferred id)</code><code>(get-deferred my-ws id)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L287">view source</a></div></div><div class="public anchor" id="var-get-reason"><h3>get-reason</h3><div class="usage"><code>(get-reason code &amp; [reason])</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L136">view source</a></div></div><div class="public anchor" id="var-invoke-rmethod"><h3>invoke-rmethod</h3><div class="usage"><code>(invoke-rmethod ws return rmethod args)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L67">view source</a></div></div><div class="public anchor" id="var-on-closed"><h3>on-closed</h3><div class="usage"><code>(on-closed f)</code><code>(on-closed my-ws f)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L379">view source</a></div></div><div class="public anchor" id="var-on-closing"><h3>on-closing</h3><div class="usage"><code>(on-closing f)</code><code>(on-closing my-ws f)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L373">view source</a></div></div><div class="public anchor" id="var-on-connecting"><h3>on-connecting</h3><div class="usage"><code>(on-connecting f)</code><code>(on-connecting my-ws f)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L367">view source</a></div></div><div class="public anchor" id="var-on-message"><h3>on-message</h3><div class="usage"><code>(on-message f)</code><code>(on-message my-ws f)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L385">view source</a></div></div><div class="public anchor" id="var-on-open"><h3>on-open</h3><div class="usage"><code>(on-open f)</code><code>(on-open my-ws f)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L361">view source</a></div></div><div class="public anchor" id="var-open.3F"><h3>open?</h3><div class="usage"><code>(open?)</code><code>(open? my-ws)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L336">view source</a></div></div><div class="public anchor" id="var-reconnect"><h3>reconnect</h3><div class="usage"><code>(reconnect ws-url)</code><code>(reconnect my-ws my-url)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L498">view source</a></div></div><div class="public anchor" id="var-recv-fn"><h3>recv-fn</h3><div class="usage"><code>(recv-fn task chan value)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L270">view source</a></div></div><div class="public anchor" id="var-retry-connect"><h3>retry-connect</h3><div class="usage"><code>(retry-connect)</code><code>(retry-connect my-ws)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L153">view source</a></div></div><div class="public anchor" id="var-retry-disable"><h3>retry-disable</h3><div class="usage"><code>(retry-disable)</code><code>(retry-disable my-ws)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L193">view source</a></div></div><div class="public anchor" id="var-retry-enable"><h3>retry-enable</h3><div class="usage"><code>(retry-enable)</code><code>(retry-enable my-ws)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L177">view source</a></div></div><div class="public anchor" id="var-retry-policy-default"><h3>retry-policy-default</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L46">view source</a></div></div><div class="public anchor" id="var-rmethod"><h3>rmethod</h3><div class="usage"><code>(rmethod my-ws return rmethod &amp; args)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L306">view source</a></div></div><div class="public anchor" id="var-setup"><h3>setup</h3><div class="usage"><code>(setup ws-url &amp; [{:keys [connecting open closing closed message my-ws]} :as d-fns])</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L536">view source</a></div></div><div class="public anchor" id="var-setup-deferreds"><h3>setup-deferreds</h3><div class="usage"><code>(setup-deferreds d-fns)</code><code>(setup-deferreds my-ws d-fns)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L525">view source</a></div></div><div class="public anchor" id="var-UNSUPPORTED"><h3>UNSUPPORTED</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L98">view source</a></div></div><div class="public anchor" id="var-write"><h3>write</h3><div class="usage"><code>(write value)</code><code>(write my-ws value)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L293">view source</a></div></div><div class="public anchor" id="var-ws"><h3>ws</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L20">view source</a></div></div><div class="public anchor" id="var-ws-close"><h3>ws-close</h3><div class="usage"><code>(ws-close ws)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L236">view source</a></div></div><div class="public anchor" id="var-ws-onclose"><h3>ws-onclose</h3><div class="usage"><code>(ws-onclose ws)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L250">view source</a></div></div><div class="public anchor" id="var-ws-onerror"><h3>ws-onerror</h3><div class="usage"><code>(ws-onerror ws)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L264">view source</a></div></div><div class="public anchor" id="var-ws-onmessage"><h3>ws-onmessage</h3><div class="usage"><code>(ws-onmessage ws)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L229">view source</a></div></div><div class="public anchor" id="var-ws-onopen"><h3>ws-onopen</h3><div class="usage"><code>(ws-onopen ws)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L208">view source</a></div></div><div class="public anchor" id="var-xmit-fn"><h3>xmit-fn</h3><div class="usage"><code>(xmit-fn task chan value)</code></div><div class="doc"><pre class="plaintext"></pre></div><div class="src-link"><a href="https://github.com/dollabs/webtasks/blob/master/src/webtasks/ws.cljs#L140">view source</a></div></div></div></body></html>